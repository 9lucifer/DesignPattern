<style>
    .highlight {
        color: #3498db;
    }
    .important {
        color: #e74c3c;
    }
    img {
        width: 100%;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
</style>

## 桥接模式

---

### 引入

在讨论手机的功能和品牌适配时，经常会遇到设计的复杂性问题。如下图所示，传统设计可能会导致问题的出现：

![初始类图](https://imgtu.oss-cn-beijing.aliyuncs.com/blog_img/image-20241015074526473.png)

面对这样的设计方案，我们通常会碰到以下挑战：

- **<span class="important">类爆炸</span>**：随着品牌和功能的不断增加，所需要的类的数量成倍增长，导致系统难以维护。
- **<span class="important">违反单一职责原则</span>**：每个类承担了过多的职责，使得每个类都非常庞大而复杂。

### 基本介绍

桥接模式（Bridge Pattern）是一种结构型设计模式，它有助于将一个大类或一系列紧密相关的类分解成两个独立的层次——<span class="highlight">抽象</span>和<span class="highlight">实现</span>，使得两者可以独立地变化。

### 改进方案与类图

通过应用桥接模式，我们可以将功能和实现分离，这样即便是品牌或功能发生变化，也不会影响到对方。下图展示了应用桥接模式后的类结构：

![改进后的类图](https://imgtu.oss-cn-beijing.aliyuncs.com/blog_img/image-20241015091204089.png)

应用桥接模式后，可以看到以下改进：

- **<span class="highlight">增强可扩展性</span>**：可以独立地添加新的品牌或功能，而无需修改现有代码。
- **<span class="highlight">减少类数量</span>**：通过分离抽象和实现，大幅减少了系统中的总类数。

通过这样的设计，不仅系统的维护变得更加简单，而且对未来的扩展也更加灵活。



##### 代码

###### brand作为接口

```java
package com.lucifer.A08_Bridge;
public interface Brand {
    void open();
    void close();
    void call();
}
```

###### phone这边是抽象类

```java
package com.lucifer.A08_Bridge;
public abstract class phone {
    private Brand brand;
    public phone(Brand brand){
        this.brand = brand;
    }
    protected void open(){
        this.brand.open();
    }
    protected void close(){
        this.brand.close();
    }
    protected void call(){
        this.brand.call();
    }
}
```



###### 在JDBC中的运用

在JDBC中，`Driver`接口的实现可以看作是桥接模式的一个例子。具体来说：

- **抽象层（Abstraction）**：在JDBC中，这一层由`java.sql.Connection`和其他类似的接口表示，它们定义了与数据库交互的高级操作。
- **实现层（Implementation）**：这一层由具体的驱动程序实现，比如MySQL JDBC Driver, Oracle JDBC Driver等。这些驱动实现了`java.sql.Driver`接口，提供了如何建立连接的具体细节。





